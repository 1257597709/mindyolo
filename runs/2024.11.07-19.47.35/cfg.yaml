task: detect
device_target: Ascend
save_dir: ./runs/2024.11.07-19.47.35
log_level: INFO
is_parallel: false
ms_mode: 0
ms_amp_level: O0
keep_loss_fp32: true
ms_loss_scaler: static
ms_loss_scaler_value: 1024.0
ms_jit: true
ms_enable_graph_kernel: false
ms_datasink: false
overflow_still_update: false
clip_grad: false
clip_grad_value: 10.0
ema: true
weight: ''
ema_weight: ''
freeze: []
epochs: 500
per_batch_size: 16
img_size: 640
nbs: 64
accumulate: 1
auto_accumulate: false
log_interval: 100
single_cls: false
sync_bn: false
keep_checkpoint_max: 100
run_eval: false
conf_thres: 0.001
iou_thres: 0.7
conf_free: true
rect: false
nms_time_limit: 20.0
recompute: false
recompute_layers: 0
seed: 2
summary: true
profiler: false
profiler_step_num: 1
opencv_threads_num: 0
strict_load: true
enable_modelarts: false
data_url: ''
ckpt_url: ''
multi_data_url: ''
pretrain_url: ''
train_url: ''
data_dir: /cache/data/
ckpt_dir: /cache/pretrain_ckpt/
data: !!python/object/new:mindyolo.utils.config.Config
  state:
    dataset_name: cattle
    path: cattle
    train_set: cattle/train/images
    val_set: cattle/valid/images
    test_set: cattle/test/images
    nc: 46
    names: &id003
    - n2005
    - s114
    - s1547
    - s1556
    - s1557
    - s1607
    - s1641
    - s1706
    - s1774
    - s1778
    - s1797
    - s1804
    - s1805
    - s1806
    - s1843
    - s1853
    - s1854
    - s1868
    - s1870
    - s1877
    - s1896
    - s1903
    - s1906
    - s1914
    - s1918
    - s1935
    - s2011
    - s377
    - s5562
    - s7704
    - s8803
    - s8804
    - s8813
    - s8816
    - s8819
    - s8832
    - s8835
    - s8843
    - sn112
    - sn13
    - sn15
    - sn176
    - sn19
    - sn20
    - sn22
    - sn23
    train_transforms: &id004 !!python/object/new:mindyolo.utils.config.Config
      state:
        stage_epochs: &id001
        - 490
        - 10
        trans_list: &id002
        - - func_name: mosaic
            prob: 1.0
          - func_name: resample_segments
          - func_name: random_perspective
            prob: 1.0
            degrees: 0.0
            translate: 0.1
            scale: 0.5
            shear: 0.0
          - func_name: albumentations
          - func_name: hsv_augment
            prob: 1.0
            hgain: 0.015
            sgain: 0.7
            vgain: 0.4
          - func_name: fliplr
            prob: 0.5
          - func_name: label_norm
            xyxy2xywh_: true
          - func_name: label_pad
            padding_size: 160
            padding_value: -1
          - func_name: image_norm
            scale: 255.0
          - func_name: image_transpose
            bgr2rgb: true
            hwc2chw: true
        - - func_name: letterbox
            scaleup: true
          - func_name: resample_segments
          - func_name: random_perspective
            prob: 1.0
            degrees: 0.0
            translate: 0.1
            scale: 0.5
            shear: 0.0
          - func_name: albumentations
          - func_name: hsv_augment
            prob: 1.0
            hgain: 0.015
            sgain: 0.7
            vgain: 0.4
          - func_name: fliplr
            prob: 0.5
          - func_name: label_norm
            xyxy2xywh_: true
          - func_name: label_pad
            padding_size: 160
            padding_value: -1
          - func_name: image_norm
            scale: 255.0
          - func_name: image_transpose
            bgr2rgb: true
            hwc2chw: true
      dictitems:
        stage_epochs: *id001
        trans_list: *id002
    test_transforms: &id005
    - func_name: letterbox
      scaleup: false
      only_image: true
    - func_name: image_norm
      scale: 255.0
    - func_name: image_transpose
      bgr2rgb: true
      hwc2chw: true
    num_parallel_workers: 4
  dictitems:
    dataset_name: cattle
    path: cattle
    train_set: cattle/train/images
    val_set: cattle/valid/images
    test_set: cattle/test/images
    nc: 46
    names: *id003
    train_transforms: *id004
    test_transforms: *id005
    num_parallel_workers: 4
optimizer: !!python/object/new:mindyolo.utils.config.Config
  state:
    optimizer: momentum
    lr_init: 0.01
    momentum: 0.937
    nesterov: true
    loss_scale: 1.0
    warmup_epochs: 3
    warmup_momentum: 0.8
    warmup_bias_lr: 0.1
    min_warmup_step: 1000
    group_param: yolov8
    gp_weight_decay: 0.0005
    start_factor: 1.0
    end_factor: 0.01
    epochs: 500
    nbs: 64
    accumulate: 1
    total_batch_size: 16
  dictitems:
    optimizer: momentum
    lr_init: 0.01
    momentum: 0.937
    nesterov: true
    loss_scale: 1.0
    warmup_epochs: 3
    warmup_momentum: 0.8
    warmup_bias_lr: 0.1
    min_warmup_step: 1000
    group_param: yolov8
    gp_weight_decay: 0.0005
    start_factor: 1.0
    end_factor: 0.01
    epochs: 500
    nbs: 64
    accumulate: 1
    total_batch_size: 16
loss: !!python/object/new:mindyolo.utils.config.Config
  state:
    name: YOLOv8Loss
    box: 7.5
    cls: 0.5
    dfl: 1.5
    reg_max: 16
  dictitems:
    name: YOLOv8Loss
    box: 7.5
    cls: 0.5
    dfl: 1.5
    reg_max: 16
network: !!python/object/new:mindyolo.utils.config.Config
  state:
    model_name: yolov8
    nc: 46
    reg_max: 16
    stride: &id006
    - 8
    - 16
    - 32
    backbone: &id007
    - - -1
      - 1
      - ConvNormAct
      - - 64
        - 3
        - 2
    - - -1
      - 1
      - ConvNormAct
      - - 128
        - 3
        - 2
    - - -1
      - 3
      - C2f
      - - 128
        - true
    - - -1
      - 1
      - ConvNormAct
      - - 256
        - 3
        - 2
    - - -1
      - 6
      - C2f
      - - 256
        - true
    - - -1
      - 1
      - ConvNormAct
      - - 512
        - 3
        - 2
    - - -1
      - 6
      - C2f
      - - 512
        - true
    - - -1
      - 1
      - ConvNormAct
      - - 1024
        - 3
        - 2
    - - -1
      - 3
      - C2f
      - - 1024
        - true
    - - -1
      - 1
      - SPPF
      - - 1024
        - 5
    - - -1
      - 1
      - SEAttention
      - - 256
    head: &id008
    - - -1
      - 1
      - Upsample
      - - None
        - 2
        - nearest
    - - - -1
        - 6
      - 1
      - Concat
      - - 1
    - - -1
      - 3
      - C2f
      - - 512
    - - -1
      - 1
      - Upsample
      - - None
        - 2
        - nearest
    - - - -1
        - 4
      - 1
      - Concat
      - - 1
    - - -1
      - 3
      - C2f
      - - 256
    - - -1
      - 1
      - ConvNormAct
      - - 256
        - 3
        - 2
    - - - -1
        - 13
      - 1
      - Concat
      - - 1
    - - -1
      - 3
      - C2f
      - - 512
    - - -1
      - 1
      - ConvNormAct
      - - 512
        - 3
        - 2
    - - - -1
        - 10
      - 1
      - Concat
      - - 1
    - - -1
      - 3
      - C2f
      - - 1024
    - - - 16
        - 19
        - 22
      - 1
      - YOLOv8Head
      - - nc
        - reg_max
        - stride
    depth_multiple: 0.33
    width_multiple: 0.25
    max_channels: 1024
  dictitems:
    model_name: yolov8
    nc: 46
    reg_max: 16
    stride: *id006
    backbone: *id007
    head: *id008
    depth_multiple: 0.33
    width_multiple: 0.25
    max_channels: 1024
config: configs/yolov8/yolov8n.yaml
rank: 0
rank_size: 1
total_batch_size: 16
